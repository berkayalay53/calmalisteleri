<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Kaptan'ın Seyir Defteri</title>
  
  <meta name="theme-color" content="#0f1113">
  
  <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:ital,wght@0,300;0,600;1,400&family=Inter:wght@300;400&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="./style.css">
</head>
<body>

  <div class="spotlight"></div>
  <div class="dust-overlay"></div>

  <div class="main-layout">
    
    <div class="frame-area">
      <div class="art-frame" id="frame">
        <img src="" id="current-photo" alt="Arşivden bir kare">
        <div class="frame-tag">ARŞİV NO. <span id="photo-id">--</span></div>
      </div>
    </div>

    <div class="content-area">
      <div class="memory-note">
        <p id="note-text">...</p>
        <span id="note-source"></span>
      </div>

      <div class="nav-box">
        <button class="btn-fate" id="nextBtn">Bir Anı Çıkar</button>
      </div>
    </div>

  </div>

  <script>
    // === VERİLER ===
    const memories = [
      { id: 1, text: "Sana hiç dokunmadan, sadece uzaktan bir şarkı gibi sevdim seni.", source: "Turuncu Saçlı Kız" },
      { id: 2, text: "Geriye dönsem de seni değil, sadece kendi yokluğumu bulacağımı biliyorum.", source: "Mazide Kalan" },
      { id: 3, text: "Sarsılmadan duranlar... gürültüsüz çökenlerdir.", source: "Beynin Sessiz Fırtınaları" },
      { id: 4, text: "Bazı insanlar konuşmaz. Ama gözleriyle bir ömürlük cümle kurarlar.", source: "Beynin Sessiz Fırtınaları" },
      { id: 5, text: "İnsan, hayal ettiğini severmiş; gerçeği ise sadece tolere edermiş.", source: "Kayıp Duyular Atlası" },
      { id: 6, text: "Kitap biter. Ama ses… devam eder.", source: "Kaybolan Sesin Defteri" },
      { id: 7, text: "Biliyor musun, ben seni hiç ‘sahiplenmedim’. Çünkü sahip olduklarımı hep kaybettim.", source: "Geçmişteki Sessizlik" },
      { id: 8, text: "Bazı insanlar birini özlemiyor — bir boşluğu seviyor.", source: "Kayıp Duyular Atlası" },
      { id: 9, text: "Sanki konuşmaktan çok… anlatılmayan şeyleri dinliyorduk.", source: "Bir Defterin İçinde Kalanlar" },
      { id: 10, text: "Fark etmemenin içinde öylesine bir adalet vardı ki... buna bile razı oldum.", source: "Turuncu Saçlı Kız" }
    ];

    const img = document.getElementById('current-photo');
    const frame = document.getElementById('frame');
    const btn = document.getElementById('nextBtn');
    const photoIdSpan = document.getElementById('photo-id');
    const noteText = document.getElementById('note-text');
    const noteSource = document.getElementById('note-source');
    
    let pool = [...memories];

    function loadMemory() {
      if (pool.length === 0) pool = [...memories]; 

      btn.classList.add('tiklandi');
      frame.classList.remove('visible'); 
      document.querySelector('.memory-note').style.opacity = '0'; 

      setTimeout(() => {
        const randomIndex = Math.floor(Math.random() * pool.length);
        const data = pool.splice(randomIndex, 1)[0];
        
        img.src = `./cover${data.id}.jpg`;
        photoIdSpan.textContent = `00${data.id}`;
        noteText.textContent = `“${data.text}”`;
        noteSource.textContent = `— ${data.source}`;
        
        img.onload = () => {
          frame.classList.add('visible');
          document.querySelector('.memory-note').style.opacity = '1';
          btn.classList.remove('tiklandi');
        };
      }, 500);
    }

    window.addEventListener('load', loadMemory);
    btn.addEventListener('click', loadMemory);
  </script>
</body>
</html>
